(function(e){function t(t){for(var s,o,i=t[0],u=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],a[o]&&p.push(a[o][0]),a[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},a={app:0},r=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("04f5"),a=n.n(s);a.a},"04f5":function(e,t,n){},"1bad":function(e,t,n){},"2f4c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("CP-Dyn ATM")]),n("router-view")],1)},r=[],o=(n("034f"),n("2877")),i={},u=Object(o["a"])(i,a,r,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,l=n("2f62"),d=n("bc3a"),p=n.n(d),h=n("a78e"),g=n.n(h),v=p.a.create({baseURL:"/api",timeout:5e3,headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}}),f={fetchMessages:function(){return v.get("messages/").then(function(e){return e.data})},postMessage:function(e){return v.post("messages/",e).then(function(e){return e.data})},deleteMessage:function(e){return v.delete("messages/".concat(e)).then(function(e){return e.data})}},m={messages:[]},_={messages:function(e){return e.messages}},b={getMessages:function(e){var t=e.commit;f.fetchMessages().then(function(e){t("setMessages",e)})},addMessage:function(e,t){var n=e.commit;f.postMessage(t).then(function(){n("addMessage",t)})},deleteMessage:function(e,t){var n=e.commit;f.deleteMessage(t),n("deleteMessage",t)}},w={setMessages:function(e,t){e.messages=t},addMessage:function(e,t){e.messages.push(t)},deleteMessage:function(e,t){e.messages=e.messages.filter(function(e){return e.pk!==t})}},y={namespaced:!0,state:m,getters:_,actions:b,mutations:w};s["a"].use(l["a"]);var j=new l["a"].Store({modules:{messages:y}}),k=n("8c4f"),M=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("img",{attrs:{src:n("e669")}}),s("p",[e._v("\n    For guide and recipes on how to configure / customize this project,"),s("br"),e._v("\n    check out the\n    "),s("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")]),s("h3",[e._v("Installed CLI Plugins")]),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])]),s("h3",[e._v("Essential Links")]),s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),s("li",[s("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])]),s("h3",[e._v("Ecosystem")]),s("ul",[s("li",[s("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),s("li",[s("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),s("li",[s("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])])}],x={name:"VueDemo",props:{}},S=x,C=(n("9ea6"),Object(o["a"])(S,M,A,!1,null,"6f226d05",null));C.options.__file="VueDemo.vue";C.exports;var O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("img",{staticStyle:{width:"250px"},attrs:{src:n("bdfd")}}),s("p",[e._v("The data below is added/removed from the SQLite Database using Django's ORM and Rest Framework.")]),s("br"),s("p",[e._v("Subject")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],attrs:{type:"text",placeholder:"Hello"},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}}}),s("p",[e._v("Message")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.msgBody,expression:"msgBody"}],attrs:{type:"text",placeholder:"From the other side"},domProps:{value:e.msgBody},on:{input:function(t){t.target.composing||(e.msgBody=t.target.value)}}}),s("br"),s("br"),s("input",{attrs:{type:"submit",value:"Add",disabled:!e.subject||!e.msgBody},on:{click:function(t){e.addMessage({subject:e.subject,body:e.msgBody})}}}),s("hr"),s("h3",[e._v("Messages on Database")]),0===e.messages.length?s("p",[e._v("No Messages")]):e._e(),e._l(e.messages,function(t,n){return s("div",{key:n,staticClass:"msg"},[s("p",{staticClass:"msg-index"},[e._v("["+e._s(n)+"]")]),s("p",{staticClass:"msg-subject",domProps:{innerHTML:e._s(t.subject)}}),s("p",{staticClass:"msg-body",domProps:{innerHTML:e._s(t.body)}}),s("input",{attrs:{type:"submit",value:"Delete"},on:{click:function(n){e.deleteMessage(t.pk)}}})])})],2)},P=[],T={name:"Messages",data:function(){return{subject:"",msgBody:""}},computed:Object(l["c"])({messages:function(e){return e.messages.messages}}),methods:Object(l["b"])("messages",["addMessage","deleteMessage"]),created:function(){this.$store.dispatch("messages/getMessages")}},E=T,B=(n("ac3f"),Object(o["a"])(E,O,P,!1,null,"32b4a622",null));B.options.__file="Messages.vue";B.exports;var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("p",[e._v("Who are you?")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:""},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}}),e.user?[n("p",[e._v("Pin?")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.pin,expression:"pin"}],attrs:{type:"password",placeholder:""},domProps:{value:e.pin},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.auth(t):null},input:function(t){t.target.composing||(e.pin=t.target.value)}}})]:e._e(),n("br"),n("br"),n("input",{attrs:{type:"submit",value:"Submit",disabled:!e.user||!e.pin},on:{click:e.auth}}),n("hr"),e.authed?[e._v("\n    Welcome "+e._s(e.user)+" "),n("br"),n("br"),e._v("\n\n    These are the accounts that you have: "),n("br"),n("br"),e._l(e.accounts,function(t,s){return[e._v("\n      "+e._s(t.acc_number)+" | \n      "+e._s(t.acc_type)+" | \n      "+e._s(t.acc_opened)+" -›\n      "+e._s(t.acc_balance)+"\n      "),n("input",{attrs:{type:"submit",value:"Withdraw"},on:{click:function(n){e.withdrawInit(t)}}}),n("br")]})]:e._e(),n("br"),n("br"),e.withdrawing?[e._v("\n    Withdrawing from account \n\n    "+e._s(e.withdrawAccount.acc_number)+" | \n    "+e._s(e.withdrawAccount.acc_type)+" | \n    "+e._s(e.withdrawAccount.acc_opened)+" -›\n    "+e._s(e.withdrawAccount.acc_balance)+"\n\n    "),n("br"),n("br"),e._v("\n\n    Enter the amount you would like to withdraw: "),n("br"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.withrdawAmount,expression:"withrdawAmount"}],attrs:{type:"number"},domProps:{value:e.withrdawAmount},on:{input:function(t){t.target.composing||(e.withrdawAmount=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"Let's go"},on:{click:function(t){e.withdraw(e.withdrawAccount.acc_id)}}})]:e._e(),e.withdrawingSuccess?[n("br"),e._v("\n    Successfully withdrew "+e._s(e.withrdawAmount)+" from "+e._s(e.withdrawAccount.acc_type)+"\n  ")]:e._e(),n("br"),n("br"),e.user?n("button",{on:{click:e.reset}},[e._v("\n    Exit\n  ")]):e._e()],2)},N=[],L={"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},$={name:"ATM",data:function(){return{user:"",pin:"",authed:!1,subject:"",msgBody:"",client:null,withdrawing:!1,withrdawAmount:0,withdrawAccount:null,withdrawingSuccess:!1,accounts:[]}},mounted:function(){this.init()},methods:{init:function(){console.log("Init")},auth:function(){var e=this;p.a.post("/api/auth/",{user:this.user,pin:this.pin},L).then(function(t){console.log(t),e.client=t.data.client,console.log("Authorisation"),e.authed=!0,e.getAccounts(e.client.cl_id)})},getAccounts:function(e){var t=this;p.a.get("/api/useraccounts/"+e+"/").then(function(e){t.accounts=e.data,console.log("accounts >>>>",t.accounts)})},withdrawInit:function(e){this.withdrawing=!0,this.withdrawAccount=e},withdraw:function(e){var t=this;console.log("Withdrawing >>",e);var n={tr_id:"",tr_amount:-1*this.withrdawAmount,tr_date:(new Date).toJSON().slice(0,10),tr_account:e};p.a.post("/api/transactions/",n,L).then(function(e){console.log(e),t.withdrawing=!1,t.getAccounts(t.client.cl_id),t.withdrawingSuccess=!0})},reset:function(){this.user="",this.pin="",this.authed=!1,this.subject="",this.msgBody="",this.client=null,this.withdrawing=!1,this.withrdawAmount=0,this.withdrawAccount=null,this.withdrawingSuccess=!1,this.accounts=[]}}},F=$,I=(n("ef3a"),Object(o["a"])(F,D,N,!1,null,"85ff90ca",null));I.options.__file="ATM.vue";var R=I.exports;s["a"].use(k["a"]);var W=new k["a"]({routes:[{path:"/",name:"home",component:R}]});s["a"].config.productionTip=!1;var K=new s["a"]({router:W,store:j,render:function(e){return e(c)}});K.$mount("#app")},"5caf":function(e,t,n){},"9ea6":function(e,t,n){"use strict";var s=n("2f4c"),a=n.n(s);a.a},ac3f:function(e,t,n){"use strict";var s=n("1bad"),a=n.n(s);a.a},bdfd:function(e,t,n){e.exports=n.p+"static/img/logo-django.624de952.png"},e669:function(e,t,n){e.exports=n.p+"static/img/logo-vue.82b9c7a5.png"},ef3a:function(e,t,n){"use strict";var s=n("5caf"),a=n.n(s);a.a}});
//# sourceMappingURL=app.250ee620.js.map